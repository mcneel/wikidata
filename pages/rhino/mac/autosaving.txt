====== Auto Save and Versions in macOS ======
Apple has added a radically different method for managing your models in macOS, and this has been integrated into Rhino for Mac.  Apple describes autosaving and Versions [[http://support.apple.com/kb/HT4753|here]] and [[http://www.apple.com/macosx/whats-new/features.html#versions|here]]. Another introduction can be found [[http://www.tuaw.com/2011/07/20/os-x-lion-auto-save-and-versions-to-the-rescue/|here]].

This article discusses details not mentioned in these articles that are important to Rhino for Mac users.  Also, you should read [[http://wiki.mcneel.com/rhino/mac/lionsaving|Everything you learned about saving files is wrong]].

===== When does Rhino for Mac autosave a model? =====

A model is saved when you **close** a model window, when you **quit** Rhino, when you **switch** to another application, and //every once in a while//. Apple says the //every once in a while// saves happen about every five minutes when Rhino is idle. This time interval is not configurable.

===== If Rhino is constantly saving my model, am I going to be constantly interrupted by the autosaves? =====

The periodic autosaves run in the background. You will never know when a background autosave is happening because it never blocks Rhino from working. If you start changing your model when Rhino attempts an autosave, Rhino silently abandons the autosave and will attempt it again later.


===== Is this going to fill up my disk? =====

Autosave does save frequently, but archives only a few versions of your model.  Auto Save archives a model about once an hour for a day, then once a day for a week, and then once a week for some number of weeks.

If you are using Time Machine to make automatic backups of your computer files, then all the previous versions of your 3DM files are included in the Time Machine backups and do not take any additional space on your local computer disk.  If you are not making regular backups, we strongly recommend that you start performing backups with Time Machine.

To figure out where most of your disk usage is allocated on your Mac, we recommend [[https://daisydiskapp.com/|DaisyDisk]].  We recommend installing the non-Mac App Store version, and [[https://daisydiskapp.com/manual/2/en/Topics/AdminScan.html|scanning as administrator]] so that you can [[https://daisydiskapp.com/manual/2/en/Topics/HiddenSpace.html|see hidden disk space]].


===== Can Rhino for Mac browse previous versions of my Rhino models? =====

Yes, the Versions browser is part of Rhino for Mac.


===== What can I do in the Versions browser? =====

In the Versions browser, the window on the left is your current model. All the windows on the right are previous versions of your model. These windows are actual Rhino windows and can be manipulated like any Rhino model. You can rotate views, bring up the Layers panel to show and hide layers. You can even copy objects from a past model to paste into your current model. You cannot //change// past versions.

===== Can I delete old versions of the file? =====

Yes, you can delete the older versions of the file.  To do this, launch Rhino for Mac and open the file in question.  Navigate to the //File// > //Revert To// > //Browse All Versions...//  When the Version explorer appears, move the mouse pointer to upper border of your screen and the Rhinoceros menu bar will appear.  Under //File// > //Revert To// you can delete a single old version or - if you hold down the //option/alt// key - you can delete all previous versions.  This will not delete the open 3dm file, but only the previous versions of it.  If the menu choice "Delete This Version" or "Delete All Versions" is greyed out, the Versions file or files in question are not on your local disk.  They are part of your regular Time Machine backup and cannot be deleted.

===== Auto Save with network file servers =====

If your network file server is a macOS file server, then all the features of Auto Save and Versions work the same as if the 3DM model was stored on your local disk. Your model is saved frequently to the network server and previous versions are archived hourly.

If your network file server is a MSWindows or MSWindows-compatible file server, you still have //almost all// of the Auto Save and Versions features.  Your model is saved frequently to the network server and hourly previous versions of your model are archived for as long as you keep the model open in Rhino.  We believe that, for MSWindows file servers, these previous versions are kept temporarily on your local disk.  You can use File > Revert To > Browse All Versions to browse through past versions of your recent work.

When you close your model that is stored on a MSWindows file server, your previous versions that have been temporarily saved will be deleted.  Rhino will warn you by showing the following dialog:

{{:rhino:mac:permanent_version_storage.png?500|/Users/macrhino/Desktop/Screenshots/permanent version storage.png}}

Your file will be saved normally, however you will not have access to previous versions once the file is closed.

=== "This document could not be autosaved" ===

Rhino users using network file servers might see the message "This document could not be autosaved" in a popup window.  This indicates that your connection to the network file server has been interrupted and Rhino cannot write to the network file server. Once your network connection is restored, Rhino will be able to Auto Save your model again.


===== Is it possible to disable the Versions feature in Rhino for Mac? =====

Yes, BUT it is **HIGHLY RECOMMENDED** that you **DO NOT DO THIS**.  Rhino for Mac is designed to work with Versions and Autosaving; performance and stability may be impacted if you disable this.  Additionally, you will lose the ability to add tags, rename or move the file from the window title, etc.  If, for some reason, you need to disable it, you will need to launch //Terminal.app// and run the following command:
    defaults write com.mcneel.rhinoceros ApplePersistence -bool no    
This will disable autosaving and versions and bring back the Save As in the File menu (instead of Duplicate).

To change back to default behavior, enter the Terminal command again but replace 'no' with 'yes':
    defaults write com.mcneel.rhinoceros ApplePersistence -bool yes