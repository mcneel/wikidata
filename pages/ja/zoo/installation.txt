====== Zooのインストールと設定 ======
> **製品:** //[[ja:zoo:home|Zoo]]//
> **要約:** //Zooワークグループライセンスマネージャのインストールのヒント//

=====概要=====
Zooは同じWindowsドメインまたはワークグループユーザー間で[[ja:rhino:home|Rhino]]、[[ja:brazil:home|Brazil]]、[[ja:bongo:home|Bongo]]、[[ja:flamingo:home|Flamingo]]、[[ja:penguin:home|Penguin]]のライセンス(CD-Key)を共有できるようにするものです。Zooは、Rhino 4.0のCD-Key、そして前のバージョンの[[ja:rhino:home|Rhino]]、[[ja:bongo:home|Bongo]]、[[ja:flamingo:home|Flamingo]]、[[ja:penguin:home|Penguin]]からのCD-Keyとも動作するように設計されています。

=====トポロジー=====
**1. 小規模なネットワーク**

ZooとRhinoのすべてのクライアントコンピュータは同じネットワークサブネット、バーチャルLAN、ファイアウォールの内側にあります。この場合、Zooは特別なネットワーク設定なしにRhinoのクライアントコンピュータすべてと動作します。

{{:ja:zoo:zooconfigbroadcast_j_small.png|}}

**2. ルーターを使用したネットワーク**

ZooとRhinoのクライアントコンピュータがルーターの反対側にあり、Rhinoのクライアントコンピュータが異なるネットワークセグメント内、異なるルーターの背後、異なるバーチャルLAN上にあることが考えられます。この場合、 RhinoがZooを検出できるようにするために、ネットワークまたはクライアントコンピュータ設定を追加で行う必要があります。詳細については、このページの下の方にある[[#ルーターを使用したネットワークで動作するようにZooを設定する]]をご覧ください。

{{:ja:zoo:zooconfigdns_j_small.png|}}

=====既存のインストールがある場合=====
次の2種類の方法（モード）があります。

**1. プライマリモード**

ネットワークでZoo 4.0だけを実行します。Zoo 4.0がRhino 4.0のCD-Keyを含むすべてのタイプのCD-Keyの要求を処理します。

**2. セカンダリモード**

ネットワークでZoo 4.0を前のバージョンのZooと一緒に実行します。このモードでは、Zoo 4.0はRhino 4.0のCD-Keyの要求のみを処理します。このモードは、（順調に動くことが分かっている）既存のZooの設定に支障をきたさずにZooをテストするのに便利です。詳細については、下の方にある[[#設定]]をご覧ください。

=====インストール=====

  * 前のバージョンのZooを既に実行しているシステムにインストールした場合、Zoo 4.0をインストールする前にZooを停止する必要があります。
  * Zoo 4.0のインストーラが前のバージョンのZooがシステムにインストールされていることを検出した場合、デフォルトではZoo 4.0は前のリリースと同じフォルダにインストールされます。Zoo 4.0をセカンダリモードで実行したい場合は、前のリリースと同じフォルダにはインストールしないでください。
  * Zoo 4.0を前のリリースと同じフォルダにインストールする場合、インストーラは前のリリースのZoo（Zoo.exe）とそのライセンスファイル（Zoo.key）の両方のバックアップコピーを作成します。またZoo 4.0を始めて実行する際には、前のライセンスが自動的にインポートされます。

=====設定=====
  * **プライマリモード（デフォルト）の設定**
    - Zoo 4.0を開始します。
    - 使用するRhino 3.0、Penguin、Bongo、FlamingoのすべてのKeyを含むCD-KeyをZoo 4.0に追加します。
    - Zoo 4.0をスタートアッププログラムリストに追加します。
    - Zoo 1.0をスタートアッププログラムリストから削除します。
  * **セカンダリモードの設定**
    - Zoo 1.0または1.1を停止します。
    - Zoo 4.0を開始します。
    - Tools->Optionsを選択し、「Disable support for legacy licenses」オプションを有効（チェックマークを付ける）にします。
    - Zoo 4.0を停止し、再び開始します。
    - CD-KeyをZoo 4.0に追加します。前のバージョンのRhinoのキーを追加することもできます。しかし、上のオプションが設定されている間はZoo 4.0はこれらのキーは配布しません。
    - Zoo 1.0または1.1を開始します。
    - Zoo 4.0をスタートアッププログラムリストに追加します。

=====ルーターを使用したネットワークで動作するようにZooを設定する=====
デフォルトで、RhinoはネットワークでメッセージをブロードキャストすることによってZooを探します。これは1つのVLanやサブネット内では（すべてのコンピュータがルーターの同じ側にある限り）問題がなく作動しますが、複数のVLanがある場合、追加設定を行う必要があります。

**ルーターを使用したネットワークの設定オプション**

下のいずれかの設定オプションを選択してください。

    - **DNS:** DNS txtレコードをDNSサーバーに設定します。この方法を用いると、Rhinoはクライアントへ追加設定をすることなくZooを検出することができます。
    - **レジストリキー:** それぞれのクライアントマシンにレジストリキーを作成します。DNSがない場合、またはDNSの変更ができない場合は、このオプションを使用してください。

**DNSを設定するには**

    - それぞれのクライアントが属するドメイン名を決定します。マイコンピュータを右クリックし、プロパティをクリックします。ドメイン名の一覧は、システムのプロパティダイアログボックスのコンピュータ名に表示されます。
    - ドメインのプライマリDNSサーバーに、**Zoo4=<ホスト名>**の形式で新しいTXTレコードを作製します。（<ホスト名>は[[ja:rhino:netbios|NetBIOS]]ホスト名です。例えば、完全修飾ホスト名が「ZooServer.bcn.es.mycorp.com」でドメインが「bcn.es.mycorp.com」である場合、[[ja:rhino:netbios|NetBIOS]]ホスト名は**ZooServer**です。
    - Test the クライアントから**[[http://en.wiki.mcneel.com/content/upload/files/ZooBonusTools.zip|Zooボーナスツール]]**に含まれる**ZooDnsResolver**を使ってクライアントからDNS設定をテストします。

**それぞれのコンピュータにレジストリキーを設定するには**

    - まだ存在しない場合、Rhino 4.0を実行するそれぞれのコンピュータに次のレジストリキーを作成します: **HKEY_LOCAL_MACHINE\Software\McNeel\RhinoLM**
    - **RhinoLM**キーに**zoo4**という名前の新規**文字列値**を作成します。
    - **zoo4**値のデータをZooサーバーの[[ja:rhino:netbios|NetBIOS]]ホスト名に設定します。例えば、完全修飾ホスト名が「ZooServer.bcn.es.mycorp.com」でドメインが「bcn.es.mycorp.com」である場合、[[ja:rhino:netbios|NetBIOS]]ホスト名は**ZooServer**です。
    - **[[http://en.wiki.mcneel.com/content/upload/files/ZooBonusTools.zip|Zooボーナスツール]]**に含まれる「SetZooServer」ツールは、このレジストリキーの作成を補助します。 

=====その他の詳細=====
  * ZooはWANで稼動するように設計されていませんでした。しかし、ネットワーク設定に手を加え、稼動するようにされている方が出てきました。弊社でははそれらの設定のテストや認定はしていません。
    * 基本条件は次のとおりです。
      * すべてのマシンが同じWindowsドメインのメンバーであることを確実にしてください。
      * <color red>推奨しないこと:</color> すべてのファイアウォールでUDPポート137と138、TCPポート139を開くこと。<color red>これは深刻なセキュリティー上の弱点です。</color>これらのポートを一般のインターネットアクセスに開くことは推奨しません。インターネットで「[[ja:rhino:netbios|NetBIOS]]、セキュリティ、弱点、脆弱性」などをキーワードにして検索すると詳細な情報を見つけて頂くことができます。
  * それぞれのマシンに固有のIPを割り当てるVPNを推奨します。
    * Zooはネットワークアドレス変換（NAT）と互換性がない可能性があります。弊社では互換性を裏付ける完全なテストは行っていません。
  * ドメインで1つだけZooが実行されていることを確実にしてください。ほとんどのZooの問題は、他にテストZooがあり（Rhinoを実行しようとしている同じマシン上である場合があります）、メールスロットの衝突の問題によって起こっています。

\\

-------------------------------------------------------------------------------
{{tag>Zoo_Japanese}}