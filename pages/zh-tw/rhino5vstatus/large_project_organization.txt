======在Rhino 5執行大型組織======
**或：何時利用連結的圖塊? 何時利用分工作業(worksessions)附加檔案？**

==== 概要 ====
本白皮書描述了Rhino 5讓一個團隊執行大型專案的功能。策略就是將專案分成多個檔案，並善用圖塊與附加檔案。

====插入圖塊與附加參考檔案====
Rhino有兩種方法可以將多個檔案包括在一個單一場景：插入連結的圖塊以及附加參考模型。 起初他們看起來很類似，但可以解決不同的問題。

====插入圖塊至物件資料庫====
利用插入圖塊的功能將資料庫裡的物件加入您的模型。例如您可以繞著會議桌插入10次會議椅子的圖塊。利用圖塊降低用來表現物件的記憶體的使用，並且很容易可以替換為另一種風格的會議椅。

====在主模型中插入圖塊====
連結的圖塊能夠用來將大型專案的元素合併到一個主要檔案。 在此情況下，任何連結檔案中的幾何都不用修改。連結的幾何是彩現、動畫或2D繪圖生產的幾何資料來源。

當幾何以連結圖塊的方式插入，而圖層狀態設為作用中，能夠在所有作用中的圖層屬性中作變更。 不管底下連結的幾何或是圖塊，這些圖層的更改都會儲存在主模型。這允許主模型可以在整個專案的生命週期中被使用。

====以附加檔案覆蓋幾何====
在積極建模專案中某個元素的同時，你也許想要將計畫中某部分的幾何覆蓋。我們可能可以利用連結的圖塊來覆蓋外觀上的幾何形狀，但連結資訊是儲存在作用中的模型。想像一下如果使用者希望在建築物的外觀上作業，但需要內裝牆壁資訊供參考。如果內牆是由連結的圖塊插入的，另一個使用者只需要建築外部參考時，也會同時得到內部牆壁的資訊。 (選項：在獨立圖層插入連結圖塊，那麼這個圖層就是圖塊參考圖層。 如果參考圖層處於關閉狀態，那麼整個圖塊就不會顯示。) 建立永久連結會增加整體專案組職的複雜性。

為了解決這一個問題，Rhino允許您附加一個或多個檔。附加檔案以唯讀覆蓋幾何的方式被讀取至場景。所有附加的檔案並不儲存於作用中的模型，只有附屬圖層屬性之下的子集更能夠被修改：能見度、被鎖定、顏色與列印顏色。 原始附加檔案永遠對應原始的作用模型，附加檔案總是會顯示完整大小。  
為了保持兩個建模分工作業之間的覆蓋狀態，可以儲存一個分工作業(worksession)檔案 (.RWS)。 分工作業檔案內儲存了目前作用模型的路徑以及其他附加模型、幾何圖形所參考的修改圖層狀態以及當前視圖。

分工作業檔案並不是設計來分享的，它們的功能是在幾何延伸至許多其他檔案時，能夠紀錄個別使用者狀態。

=====工作範例=====
====專案====
這個專案的主要目的是在一個越來越多人的大學開發一個停車場。 在這個場地將有兩棟建築物：咖啡廳與行政大樓。 有著噴泉的庭院將會是這裡的重點，地下停車場能夠加倍目前的停車數量。

====Zeichnenspass建築團隊====
    * Matt是負責處理每個元素3D建模的初級建築師。
    * Paul負責水管管線配置。
    * David負責起草編制合約。 
    * Fabio是彩現與動畫專家，在整個過程中將負責動畫以及設計的彩現。

====任務====
每個團隊成員都身負不同任務，每個任務也需要不同的工具。

===咖啡廳外觀建模===
建模過程由Matt為每棟建築物建模開始。Matt積極的為建築物外觀建模，他將為建築物建立新的模型，並附加上任何他在建模時進行覆蓋的任何檔案。

Matt建立**Coffee Shop - Exterior.3**並附加**Site.3dm**。他不需要看到**Site.3dm**檔案的大部分圖層，所以把所有圖層都關掉只留下底圖層。接下來他把底圖層轉成淺灰色，所以在模型上看起來不會太突出。 因為建立一個模型外觀通常需要花幾天的時間，Matt將他的附加檔案以分工作業的方式存到電腦裡。沒有必要將這個短暫存在的資料存進網路的專案資料裡，只會讓共同使用者混淆而已。 

===咖啡廳內部建模===
外部建模之後，Matee開始建立咖啡廳內部的模型。 他將建立一個新的模型並命名為 Interior.3dm。 Matee決定要用不同的分工作業i檔來建立這個內部模型，因為他想要使用不同附加檔案裡不同圖層的顏色。 Matt 附加上**Coffee Shop - Exterior.3dm**檔案，並保存**Coffee Shop - Interior.rws**檔。

咖啡廳有兩個廁所。這兩間廁所的衛生設備是相同的，但在各自模型中有多個洗手盆與馬桶。 為了能夠輕鬆對樣式進行更改，Matt加入**Toilet.3dm**以及**Sink.3dm**模型，並加上連結圖塊。Matt只要利用BlockManager指令就可以改變馬桶現有樣式。

=== 建立其他建築物的模型===
工地上其餘的結構建模，大概都依循著建立咖啡廳的原則。 只要結構外部一完成，初步彩現就可以開始。

===外部彩現===
只要工地與建築物外部完成，Fabio可以開始設置彩現及動畫廠警。 Fabio想要控制材質內內容、已儲存視圖以及彩現環境，即使其他人也能夠改變這個每個建築的資訊。

Fabil建立一個新的模型檔案並命名為**Master Rendering.3dm**，並且將**Site.3dm**、**Coffee Shop - Exterior.3dm**、**Courtyard - Fountain.3dm**、**Courtyard - Path.3dm**、**Administrative - Exterior.3dm**以及**Garage - Entry.3dm**等檔案做成連結圖塊。 這些連結的圖塊會以**Layer Style**(圖層形式)的方式存在，並設定為**Active** (使用中)。

插入圖層樣式設置開啟的圖塊，允許Fabio可以控制每個圖層的材質內容而毋需修改原始模型。這表示團隊裡的其他人員，能夠繼續在這些模型上工作，Fabio還是可以繼續調整材質並進行最後彩現。

最初Fabio想到附加參考檔，並且為此專案儲存一個分工作業。後來他決定不這麼做，因為他希望所有彩現材質資訊都在一個它可控制的檔案裡 - **Master Rendering.3dm** - ，而不是含在許多幾何圖形的模型內。這讓Fabio可以控制彩現的特性，而且讓其他使用者也可以自行彩現他們需要的檔案。

**註：** Zeichenespass團隊設立了一套製圖標準，包括檔案與圖層的命名都要配合團隊使用的圖塊與分工作業。例如所有外部窗戶都放在一個命名為//Fenestration//的圖層裡。當所有連結圖塊都匯入Fabio的總彩現模型，這層單一紀錄開窗的圖層包含了模型裡所有有關窗戶的幾何。 要改變所有的檔案中的任何外部玻璃設定變得很容易，因為所有的玻璃都在同一個圖層裡。

Fabio在總彩現模型中建立命名的視圖、設置Bongo路徑動畫以及太陽研究動畫。當整個計畫越趨於完成，Fabio可以開啟總彩現模型，而且較容易產出更新的彩現與動畫效果。

===建立生產圖紙===
生產圖紙的佈局就像利用連結圖塊的外部彩現。要建立咖啡廳的圖紙，David建立一個**Master Drawings - Coffee Shop.3dm**檔案，為了每個此繪圖需要的模型，啟動匯入圖層形式的連結圖塊。

每一頁繪圖的圖紙配置都儲存在咖啡廳的繪圖設計模型裡。這些圖紙配置包含額外尺寸、列印寬度的圖層形式、直線類型以及列印顏色。

經由匯入連結圖塊，David可以在別的組員對模型做出更改時，繼續繪圖工作。

=== 管線詳情===

由附加檔案來完成管線詳細圖層，因為修改模型時還需要參考其他檔案裡的幾何資訊。 Paul建立了一個新的模型並命名為**Coffee Shop - Plumning.3dm**，並附加**Coffee Shop - Exterior**以及**Coffee Shop - Interior**。 電路及暖通空調的詳細情形也會在類似的步驟情況下完成。

==== 最後的補充====
規劃與標準對於一個成功的組織專案來說非常重要。將一個龐大的計畫案分割成幾個檔案，讓使用者可以同時使用，而不用因為另有使用者鎖定檔案而工作進度受到影響。但太多的檔案表示要經常切換到分工作業，會耗費許多時間也很令人煩躁。

