====== 使用圖塊 ======
Rhino4與Rhino5的圖塊基本功能是一樣的，不過您還是可以在[[http://www.rhino3d.com/new/large|這裡]]找到Rhino5新增的圖塊功能與指令。
 
**簡介：** //圖塊可以用來管理檔案中重複出現的物件。//

=====使用圖塊的優點：=====

**1.** 不論圖塊引例包含了多少複本都可以透過直接改變原本定義的幾何物件來變更這些圖塊引例及複本。

**2.** 可以透過外部檔案更新物件。

**3.** 單一定義圖塊引例不論有多少複本都不會增加太多檔案容量，因為只有一個定義圖塊實際存在檔案中。所有的圖塊引例都是引用原始定義圖塊產生的。Rhino是透過標記與顯示技術來顯示出這些圖塊引例的定位方向。

=====圖塊如何運作：=====
當您使用檔案中的幾何物件製作圖塊時(建立圖塊定義指令)，Rhino會以一個圖塊引例置換掉被選取的幾何物件。圖塊定義(被選取的幾何物件)將被儲存在檔案中。您可以使用插入指令依需求插入多個圖塊引例。在插入指令對話框的下拉式選單中可以選擇要插入的現有圖塊引例。

若您將其他3dm檔案插入為圖塊引例的話，會發生類似的情形─圖塊定義將被吸進目前的檔案並且一併被儲存起來。而您會在螢幕上看到由該幾何物件所定義的圖塊引例。當然，不同的是這個圖塊引例的定義是連結至外部檔案並且會隨著外部檔案的改變產生連動。這些設定可以透過[[rhino:blockmanager|圖塊管理員]]完成。

(在這兩種情況下，檔案中的圖塊定義可以不必存有實際的圖塊引例。這也是為什麼有時會因為圖層中仍有圖塊定義而造成圖層無法刪除的問題。清除未使用的資訊指令可以將未使用的圖塊定義清除。)
要更新特定圖塊定義的所有圖塊引例時，必須要重新定義這個圖塊。您可以先炸開圖塊並對幾何物件進行變更，再重新定義這個幾何物件為相同的圖塊名稱。重新定義時會彈出警告確認訊息。或者，您也可以直接將圖塊定義指定給別組幾何物件。

====練習範例====
>  **//建立方塊//**並使用**建立圖塊定義**指令定義圖塊。將圖塊命名為//Box1//。將圖塊基準點設定在方塊物件的一角。設定完成後，這個方塊就不再是一般的方塊，當您點選這個看起來像方塊的物件後，在內容面板>物件>詳細資料中可以看到它現在是一個圖塊引例。
>  
>  **//炸開圖塊。//**再確認一次物件內容。這個方塊現在變回普通的方塊物件而且與圖塊//Box1//毫無關係。刪除這個方塊物件。接著請執行**插入**指令。在**插入**對話框中的下拉式選單內指定//Box1//。這個圖塊定義是剛才建立圖塊時產生的。以圖塊引例的方式將它插入後請再多複製幾個出來。
>  
>  **//在Rhino4中重新定義圖塊：//**選取//Box1//圖塊定義中的其中一個圖塊引例，**炸開**它讓它變成普通方塊物件。對這個方塊倒圓角。接著再執行**建立圖塊定義**指令並且選取圓角方塊及指定圖塊基準點。將圖塊定義名稱指定為Box1。所有屬於//Box1//圖塊定義的圖塊引例都會變成圓角方塊。指定新圖塊定義的圖塊基準點時若位置與原始位置不一樣的話，所有的圖塊引例將會產生位移。
>
>  **//在Rhino5中重新定義圖塊：//**您可以使用原地編輯圖塊指令。執行指令後請點選要編輯的圖塊。點選圖塊後會彈出圖塊編輯對話框。您可以新增或移除圖塊中的物件並且變更圖塊基準點。在這個狀態下也可以直接編輯圖塊內物件的幾何造型。編輯完按下確定後會關閉對話框，自動儲存並更新所有圖塊引例。若點擊"x"或按ESC鍵的話則會取消重新定義。

>  **//建立一個球體。//**執行**建立圖塊定義**後選取球體並且指定圖塊基準點。將圖塊名稱指定為//Box1//。所有的圓角方塊都會變成球體。
\\ 
=====外部連結圖塊=====
圖塊定義若是以外部連結方式存在的話可以直接更改外部連結檔案再透過[[rhino:blockmanager|圖塊管理員]]更新圖塊定義。若圖塊定義來自外部連結檔案的話，請避免在變更外部連結檔案的資料夾絕對路徑後又對圖塊定義進行更新連動，但是外部連結檔案若是置入並連結至目前檔案中的圖塊定義，目前的檔案中會存有外部連結檔案的複本，所以當外部連結檔案的資料夾路徑被移動後，只要不進行更新連動的話，目前檔案中的複本是不會受到影響的。


====練習範例====
>  **建立方塊**，儲存檔案。另開新檔並執行**插入**指令，點擊//按這裡插入外部檔案//圖示並指定至剛才儲存的方塊檔案。點選插入為圖塊引例選項。
>  
>  **建立數個圖塊引例複本**，使用縮放、旋轉及移動。
>  
>  **編輯外部連結檔案** ，開啟先前儲存的方塊檔案並且對方塊倒圓角。再建立一顆球體。接著儲存檔案。 
>  
> **回到有圖塊定義的檔案中**，執行[[rhino:blockmanager|圖塊管理員]]指令。您會在圖塊管理員對話框中看到剛才插入方塊檔案時建立的圖塊定義。點選這個圖塊定義並且點擊對話框右側的//__更新__//按鈕。
>  
>  **//檔案中所有的圖塊引例複本都將被更新為圓角方塊及球體。//**
>  
>  **關於圖層：**在所有的情況下，圖塊引例中包含的物件可能屬於不同圖層，當這些不同圖層的物件被定義在同一個圖塊中時，仍然會受到原屬圖層開關影響而讓該圖塊引例部份顯示或隱藏。但是，如果該圖塊引例所在的圖層被關閉的話，不論圖塊引例內物件的原屬圖層是什麼狀態都會全部被隱藏。

=====進階技巧=====

**[[developer:scriptsamples/superexplodeblock|SuperExplodeBlock Script]]**\\ 
(在Rhino4時這個部份屬於[[http://wiki.mcneel.com/zh-tw/labs/home|Rhino Labs Tools]]但在Rhino5已經是內建指令。

**[[developer:scriptsamples/countblocks|Count Blocks Script]]**



