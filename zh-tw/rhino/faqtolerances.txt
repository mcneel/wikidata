======了解公差======
> **產品：** //[[zh-tw:rhino:home|Rhino]]//
> **摘要：** //討論在Rhino中公差的意義及該如何做最好的設定//

=====公差，公差，公差‧‧‧=====

<color darkslateblueblue>**//這些數字代表了甚麼？在Rhino裡我該如何設定？//**</color>

新用戶常會詢問我們這個問題，許多3D軟體並沒有提供用戶設定公差的功能，不論您是否喜歡，這些軟體已經內建設定好固定的公差。Rhino提供您可以根據需求設定公差，但它需要多一點的經驗通常會由及了解，以做正確設定。


=====1.了解公差=====

**//<color darkslateblue>公差</color>//** ，簡單來講是設定您需要多精確的精度，或者說 ，您的案子可接受的誤差值。沒有甚麼是可以百分百的精準或完美，不同的案例及物件的尺寸將有不同需求的準確性，您不會想建立一個以向瑞士錶一樣微米為精度單位的建築案，反之也同樣地荒謬(而且不可能)。

這裡關於公差的說明主要是單純的讓您了解如何在設定您模型的公差，並不會探討到工程方法精確設定公差等細節。目前Rhino提供您可選擇的範本檔可選擇的公差有010.及0.001單位(不論你使用的單位是公寸、公厘、公尺等等)。您可以自行建立不同公差值的範本檔，但說真的甚麼是**//<color darkslateblue>絕對公差 (absolute tolerance)</color>//**？


=====2: Rhino 絕對公差設定=====

以Rhino來說，絕對公差設定代表兩個物件的間距在多少以內可以被視為是 //足夠接近// 。  //足夠接近// 可以讓兩個曲面或曲線互相組合；或者像是掃掠指令以**//<color darkslateblue>逼近</color>//**法產生曲面並使曲面與軌道間的距離小於絕對公差。

> **Note:** //在操作組合指令過程中，兩倍絕對公差是允許的，請注意使用。//

**<color royalblue>什麼是"逼近"法?</color>**

有些物件可以在浮點運算極限內被完美地定義數學上的值─通常您也不需要擔心這些極微小的公差。然而，有些指令依靠逼近法去讓曲線或曲面**//<color darkslateblue>逼近符合</color>//**其他的曲線或曲面。如果你需要更精確的計算，花費的時間就會越長，大量的浮點運算甚至會讓系統停擺。絕對公差就是用來告訴Rhino什麼程度的浮點運算就“夠好”並且停止繼續往下計算。

定義一個用不到的高精度絕對公差會讓生成的物件產生非常大量的控制點，這些控制點會造成資料檔案變大、系統負擔加重、不夠平滑與難以編輯等問題。

**<color royalblue>哪些操作屬於逼近法？</color>**

任何要計算物件交集的指令都是。例如：修剪、分割、物件交集、等距斷面線、斷面線、偏移曲線或曲面、投影、單軌掃掠與雙軌掃掠、所有布林運算指令、曲面圓角及不等距邊緣圓角等。


**<color royalblue>那我為什麼不用低精度公差來建模呢？</color>**

使用低精度公差的優點是計算時間與資料量可以大幅減少，但卻是以模型精確度為代價。這也是為什麼設定公差是需要一些經驗的，因為公差總是妥協後的結果。


例如使用 //物件交集// 指令計算兩個曲面之間的交界線。這條曲線與兩個曲面的間距可以小於//**<color darkslateblue>絕對公差</color>**//。

執行物件交集指令後請將結果曲線先放到一旁。接著在絕對公差設定欄位中將公差值小數點後多加一個0並再做一條新的物件交集曲線。一起打開兩條物件交集結果曲線。第二條結果曲線明顯多了許多控制點；資料負擔會“變重”但也會更靠近兩個曲面。那第一條結果曲線有"更好"嗎？那要看你的需求。若更靠近的結果曲線沒有對你的作業流程產生幫助的話，那第一條負擔"較輕"的結果曲線可以縮小檔案、加快計算並更好參數化曲面是比較好的。

不同的對象大小可能需要各種不同的公差。例如進行車體設計時(可能有些細節大小接近1.0 mm範圍)系統公差只要設定成0.1 mm可能就足夠了。然而，對同一台車上的某些細節而言，可能0.01mm的公差都還不夠，對某些內部的機電裝置或軸承表面，甚至會要求到0.001或0.0001mm的系統公差。

另一個大略的公差設定準則是比工作流程中最小要求的公差再小一些(例如1/10) ；或是比最小的模型細節再小一些。

**<color royalblue>取代或自訂公差</color>**

某些指令像是從網線建立曲面或銜接曲面，可以讓你在指令操作對話框中另外依需求設定公差以取代系統公差進行指令運算。

最後，有些像是組合兩個外露邊緣(JoinEdge)指令可以讓你局部忽視系統公差設定，某些情況下謹慎地使用它可能是很有用的。你可以故意說這些地方的低精度是可以接受的！

=====3:Rhino的角度公差及相對公差設定=====

Rhino另有兩個公差設定：角度及相對公差。相對公差只有在少數指令會使用到，一班來說可以忽略。角度公差則非常重要，可以決定Rhino兩條曲線或曲面之間有多少角度公差可做為正切(Tangent)的依據，預設值為1度，對精細建模是較大的設定，曲面在1度的公差值內還是容易產生明顯的褶皺或線，可改設定0.1或更小的設定值較佳。

=====4:  公差如何影響您的案子及工作流程=====

非常重要的一點是您應該在建模流程開始時便設定好公差，雖然您可以在工作中變更公差設定，但物件若是在之前使用較低的公差建模的，當您提高公差時並不會自動修復所有物件公差至較高的精度。 建議您在建模的過程中不斷地組合(join)物件來確認，若可以被組合，代表仍在模型容錯值之內，若無法組合，您需要立刻回復確認為何無法正確組合。這樣可以避免模型完成後有問題或不精確的地方，能在最後的階段會變得非常得修復並花費更多時間重建模型。

在建模時只要與交集有相關的功能，例如物件交集、分割及布林運算對公差設定較為敏感。通常，若公差設定太低，可能無法找到精確交點，或這可能會分割或布林失敗(注意，這個原因並非這些工作作業失敗的唯一原因)。太高的公差設定可能也是有害的，電腦計算時間勢必拉長，甚至會當機。一般來講，絕對公差應保持在0.01至0.0001之間，不會設定低於小數點五位。若您需要更嚴格的公差值，請改更小的單位方式取代。


=====5:匯出檔案至其他軟體：=====

當您將模型匯出到其他軟體程式(例如CAM或實體建模軟體)，提供可以被成功導入的精度設定是非常重要的。經驗是這裡唯一的指導，若您有疑問可以到Rhino的討論群組詢問，一定有使用者有一定的經驗可以提供一些指引。舉例來說，一般MCAD需要更高的精度，若您後端準備輸出給MCAD，請您整個建模過程從開始到結束都要在更精確的精度設定下作業，這樣才能成功銜接。

\\

{{tag>rhino5}}
