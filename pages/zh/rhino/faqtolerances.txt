======了解公差======
> **产品：** [[zh:rhino:home|Rhino]]
> **摘要：** 讨论在Rhino中公差的意义及该如何做最好的设定

=====公差，公差，公差‧‧‧=====

[[https://vimeo.com/85108857|影片说明(片长19:20)]]

<color darkslateblueblue>**这些数字代表了什么？在Rhino里我该如何设定？**</color>

新用户常会询问我们这个问题，许多3D软件并没有提供用户设定公差的功能，不论您是否喜欢，这些软件已经内建设定好固定的公差。Rhino提供您可以根据需求设定公差，但它需要多一点的经验通常会由及了解，以做正确设定。

{{vimeo>85108857?640x360}}关于Rhino绝对公差与精度的说明影片
[[https://v.youku.com/v_show/id_XNjk3ODYxMjIw.html?spm=a2hbt.13141534.1_2.d_1_4&f=21179081&scm=20140719.apircmd.46307.video_XNjk3ODYxMjIw|大陆地区用户请点击这里观看此视频(片长19:20)]]

=====1.了解公差=====

**//<color darkslateblue>公差</color>//** ，简单来讲是设定您需要多精确的精度，或者说 ，您的案子可接受的误差值。没有甚么是可以百分百的精准或完美，不同的案例及物件的尺寸将有不同需求的准确性，您不会想建立一个以向瑞士表一样微米为精度单位的建筑案，反之也同样地荒谬(而且不可能)。

这里关于公差的说明主要是单纯的让您了解如何在设定您模型的公差，并不会探讨到工程方法精确设定公差等细节。目前Rhino提供您可选择的模板档可选择的公差有010.及0.001单位(不论你使用的单位是公寸、公厘、公尺等等)。您可以自行建立不同公差值的模板档，但说真的什么是**//<color darkslateblue>绝对公差 (absolute tolerance)</color>//**？


=====2: Rhino 绝对公差设定=====

以Rhino来说，绝对公差设定代表两个物件的间距在多少以内可以被视为是 //足够接近// 。  //足够接近// 可以让两个曲面或曲线互相组合；或者象是扫掠指令以**//<color darkslateblue>逼近</color>//**法产生曲面并使曲面与轨道间的距离小于绝对公差。

> **Note:** //在操作组合指令过程中，两倍绝对公差是允许的，请注意使用。//

**<color royalblue>什么是"逼近"法?</color>**

有些物件可以在浮点运算极限内被完美地定义数学上的值─通常您也不需要担心这些极微小的公差。然而，有些指令依靠逼近法去让曲线或曲面**//<color darkslateblue>逼近符合</color>//**其他的曲线或曲面。如果你需要更精确的计算，花费的时间就会越长，大量的浮点运算甚至会让系统停摆。绝对公差就是用来告诉Rhino什么程度的浮点运算就“够好”并且停止继续往下计算。

定义一个用不到的高精度绝对公差会让生成的物件产生非常大量的控制点，这些控制点会造成文件变大、系统负担加重、不够平滑与难以编辑等问题。

**<color royalblue>哪些操作属于逼近法？</color>**

任何要计算物件交集的指令都是。例如：修剪、分割、物件交集、等距断面线、断面线、偏移曲线或曲面、投影、单轨扫掠与双轨扫掠、所有布尔运算指令、曲面圆角及不等距边缘圆角等。


**<color royalblue>那我为什么不用低精度公差来建模呢？</color>**

使用低精度公差的优点是计算时间与文件量可以大幅减少，但却是以模型精确度为代价。这也是为什么设定公差是需要一些经验的，因为公差总是妥协后的结果。


例如使用 //物件交集// 指令计算两个曲面之间的交界线。这条曲线与两个曲面的间距可以小于//**<color darkslateblue>绝对公差</color>**//。

执行物件交集指令后请将结果曲线先放到一旁。接着在绝对公差设定栏位中将公差值小数点后多加一个0并再做一条新的物件交集曲线。一起打开两条物件交集结果曲线。第二条结果曲线明显多了许多控制点；文件负担会“变重”但也会更靠近两个曲面。那第一条结果曲线有"更好"吗？那要看你的需求。若更靠近的结果曲线没有对你的作业流程产生帮助的话，那第一条负担"较轻"的结果曲线可以缩小文件、加快计算并更好参数化曲面是比较好的。

不同的对象大小可能需要各种不同的公差。例如进行车体设计时(可能有些细节大小接近1.0 mm范围)系统公差只要设定成0.1 mm可能就足够了。然而，对同一台车上的某些细节而言，可能0.01mm的公差都还不够，对某些内部的机电装置或轴承表面，甚至会要求到0.001或0.0001mm的系统公差。

另一个大略的公差设定准则是比工作流程中最小要求的公差再小一些(例如1/10) ；或是比最小的模型细节再小一些。

**<color royalblue>取代或自定义公差</color>**

某些指令象是从网线建立曲面或衔接曲面，可以让你在指令操作对话框中另外依需求设定公差以取代系统公差进行指令运算。

最后，有些象是组合两个外露边缘(JoinEdge)指令可以让你局部忽视系统公差设定，某些情况下谨慎地使用它可能是很有用的。你可以故意说这些地方的低精度是可以接受的！

=====3:Rhino的角度公差及相对公差设定=====

Rhino另有两个公差设定：角度及相对公差。相对公差只有在少数指令会使用到，一般来说可以忽略。角度公差则非常重要，可以决定Rhino两条曲线或曲面之间有多少角度公差可做为正切(Tangent)的依据，预设值为1度，意即当物件间的正切角度小于该设定值，两物件则视为正切，对精细建模是较大的设定，曲面在1度的公差值内还是容易产生明显的褶皱或线，可改设定0.1或更小的设定值较佳。

=====4:  公差如何影响您的项目及工作流程=====

非常重要的一点是您应该在建模流程开始时便设定好公差，虽然您可以在工作中变更公差设定，但物件若是在之前使用较低的公差建模的，当您提高公差时并不会自动修复所有物件公差至较高的精度。 建议您在建模的过程中不断地组合(join)物件来确认，若可以被组合，代表仍在模型容错值之内，若无法组合，您需要立刻回复确认为何无法正确组合。这样可以避免模型完成后有问题或不精确的地方，能在最后的阶段会变得非常得修复并花费更多时间重建模型。

在建模时只要与交集有相关的功能，例如物件交集、分割及布尔运算对公差设定较为敏感。通常，若公差设定太低，可能无法找到精确交点，或这可能会分割或布尔失败(注意，这个原因并非这些工作作业失败的唯一原因)。太高的公差设定可能也是不可取的，计算机计算时间势必拉长，甚至会当机。一般来讲，绝对公差应保持在0.01至0.0001之间，不会设定低于小数点五位。若您需要更严格的公差值，请改更小的单位方式取代。


=====5:导出文件至其他软件：=====

当您将模型汇出到其他软件程序(例如CAM或实体建模软件)，提供可以被成功导入的精度设定是非常重要的。经验是这里唯一的指导，若您有疑问可以到Rhino的讨论群组询问，一定有使用者有一定的经验可以提供一些指引。举例来说，一般MCAD需要更高的精度，若您后端准备输出给MCAD，请您整个建模过程从开始到结束都要在更精确的精度设定下作业，这样才能成功衔接。

\\

{{tag>rhino5}}
