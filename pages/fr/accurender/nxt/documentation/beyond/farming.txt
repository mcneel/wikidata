[[fr:accurender:nxt:documentation|Aide en ligne]]
====== Ferme de rendu nXt======

Une ferme de rendu est un groupe d'ordinateurs en réseau travaillant ensemble pour réaliser des tâches de rendu. Normalement, les fermes de Rendu travaillent en silence sans afficher les rendus sur un moniteur pendant leurs calculs.  De cette façon, il est possible d'utiliser plus de puissance pour les tâches importantes tout en perdant un peu d'interactivité.\\ 
De nombreux logiciels externes de ferme de rendu sont actuellement disponibles.  La Ferme de rendu nXt vous permet de travailler avec l'un d'eux ou de configurer une ferme de rendu simple en utilisant uniquement le logiciel fourni.  //Le logiciel de la Ferme de rendu nXt est vendu séparément// des modules de la plate-forme nXt, tels qu'AccuRender nXt.  Le logiciel lui-même est indépendant de la plate-forme ; AutoCAD ne doit pas être obligatoirement installé sur les ordinateurs qui seront utilisés uniquement pour le rendu avec la ferme. 

La ferme de rendu nXt comprend deux parties différentes :

  - nXtFarmer.exe (nXtFarmer64.exe) est un petit programme qui est lancé sur chaque station de rendu du réseau et qui attend les travaux à réaliser.
  - nXtFarmMonitor.exe (nXtFarmMonitor64.exe) est une application qui vous montre le statut de votre ferme de rendu et qui offre quelques outils de contrôle simple.

Les procédures suivantes s'appliquent à la ferme de rendu comprise dans nXt. Si vous prévoyez utiliser un logiciel de ferme de rendu externe, certaines procédures seront différentes.

===== Installation et configuration de la ferme de rendu =====

Créez un dossier partagé que la ferme de rendu utilisera.  Tous les ordinateurs du réseau de rendu doivent avoir un accès libre pour lire et écrire dans ce dossier. Le dossier partagé peut disposer d'un espace disponible sur le disque assez important pour enregistrer les données et les images.  20 - 200 Go disponibles sont recommandés.  Vous devez réaliser les quatre étapes suivantes sur //chaque// ordinateur où vous voulez utiliser la ferme de rendu, y compris les stations nXt qui enverront des travaux à la ferme de rendu :

  - Installez le logiciel de la ferme de rendu nXt.
  - Dans le menu Démarrer, exécutez la ferme de rendu sur chaque machine.  La ferme de rendu apparaîtra sous forme d'icône dans la barre de système.
  - Cliquez avec le bouton de droite sur l'icône et sélectionnez Restaurer.    Une fenêtre intitulée Ferme de nXt devrait apparaître. 
  - Sélectionnez Options->Chemin... dans le menu et sélectionnez le chemin vers la ferme de rendu.  La fenêtre de la ferme peut mantenant être réduite dans la barre de tâches. 

La ferme de rendu est maintenant configurée. Afin de vérfier que les ordinateurs connectés répondent, lancez le moniteur de la ferme à partir du menu Démarrer sur une des stations. Les ordinateurs devraient apparaître dans la liste supérieure. Si vous voulez exclure un ordinateur de la ferme de rendu, vous pouvez le sélectionner, cliquer avec le bouton de droite et choisir Suspendre. 


**Actualiser le logiciel de la ferme de rendu**

Tous les ordinateurs participant doivent être actualisés avant qu'un nouveau travail puisse être envoyé à la ferme. Suivez la procédure suivante :

  * Attendez la fin de tous les travaux actifs de la ferme avant de commencer l'activation de la mise à jour.
  * Pour chaque ordinateur :
    - Si la ferme de rendu est actuellement ouverte, fermez l'application en cliquant avec le bouton de droite sur l'icône de la barre de tâches et sélectionnez Fermer. 
    - Installez le logiciel de la ferme de rendu nXt.
    - Lancez la ferme de rendu à partir du menu Démarrer.  L'icône de la barre de tâches devrait apparaître. 


===== Licence de la ferme de rendu =====

La version d'évaluation de la ferme de rendu permet à deux ordinateurs en réseau (noeuds) de travailler simultanément sur des travaux. Si vous voulez avoir plus de noeuds de réseau travaillant en même temps, vous pouvez acheter une licence illimitée [[https://www2.mcneel.com/commerce/accurender/buy-farm.asp|ici]].

Lorsque vous avez acheté une licence et avez reçu une clé de produit, suivez une des procédures suivantes pour activer la licence de votre ferme.

//**Procédure pour la version 244 et suivantes (recommandée):**//

  - Attendez la fin de tous les travaux actifs de la ferme avant de commencer l'activation de la licence.
  - Enregistrez votre clé de produit dans un fichier de texte sur le réseau afin de pouvoir la copier et la coller facilement sur chaque noeud.
  - //Pour chaque ordinateur://
     - Si le noeud est actullement actif, fermez-le en cliquant avec le bouton de droite sur l'icône de la ferme de rendu dans la barre de tâches et en sélectionnant Fermer.
     - Lancez l'application **Authorize Farm** du dossier de la ferme de rendu nXt dans le menu Démarrer.     
     - Collez la clé de produit et cliquez sur Accepter.  Un message d'activation devrait apparaître. Si vous obtenez un message d'erreur, la procédure d'activation a échoué et vous devrez contacter l'assistance technique. Cliquez sur Accepter.
     - Lancez le noeud en sélectionnant la ferme de rendu dans le dossier nXt du menu Démarrer
                                
//**Procédure pour les versions précédentes à la 244  :**//

  - Attendez la fin de tous les travaux actifs de la ferme avant de commencer l'activation de la licence.
  - Fermez tous les noeuds du réseau en visitant chaque ordinateur, en cliquant avec le bouton de droite sur l'icône de la ferme de rendu dans la barre de tâches et en sélectionnant Fermer. 
  - Enregistrez votre clé de produit dans un fichier de texte sur le réseau afin de pouvoir la copier et la coller facilement sur chaque noeud.
  - //Pour chaque ordinateur://
     - Lancez la ferme de rendu à partir du menu Démarrer.  L'icône de la barre de tâches devrait apparaître.
     - Cliquez avec le bouton de droite sur l'icône et sélectionnez Restaurer.
     - Sélectionnez Options->Entrer la clé du produit...
     - Collez la clé de produit et cliquez sur Accepter.
     - Fermez le noeud en fermant la fenêtre
   - Lorsque la licence a été activée sur tous les ordinateurs, vous pouvez redémarrer chaque noeud
        
**Afin de vérifier que votre licence a bien été activée, consultez la boîte de dialogue À propos... :**

  - Cliquez avec le bouton de droite sur l'icône de la barre de tâches et sélectionnez Restaurer.
  - Sélectionnez Aide->À propos... pour voir cette boîte de dialogue. 
  - Le mot //Evaluation// ne devrait pas apparaître après le numéro de la version.  (Si le numéro de version indique une version d’évaluation, l'activation de la licence ne s'est pas faite correctement et vous devrez contacter l'assistance technique.)  Cliquez sur Accepter.
  - Minimisez la fenêtre de la ferme de rendu dans la barre de tâches.



===== Envoyer des travaux à la ferme de rendu à partir d'AccuRender nXt =====

À l'heure actuelle, il est possible d'envoyer quatre types de travaux à la ferme de rendu afin qu'ils soient traités par plusieurs ordinateurs. Des images simples de la commande Déplacement, des travaux par lors et des diaporamas 3D. 

===Images simples===

Les vues simples peuvent être divisées en tâches plus petites et réparties sur plusieurs ordinateurs. Lorsque le travail est terminé, les images de ces tâches peuvent être reconstituées en une seule image en utilisant l'éditeur d'images nXt. //L'utilisation du Path Tracer pour calculer le rendu d'images simples sur la ferme n'est pas recommandée pour le moment en raison de plusieurs problèmes connus provoquant des artefacts lors de la reconstitution.//

Suivez les étapes suivantes pour envoyer un travail de rendu d'image simple vers la ferme de rendu :

  - Lancez la commande Déplacement et configurez le rendu et la vue.
  - Cliquez sur le bouton de la ferme de rendu dans la barre d'outils Déplacement.
  - Donnez un nom au travail ou acceptez le nom proposé par défaut.  La date et l'heure sont automatiquement ajoutées au nom que vous avez choisi.  Un sous-dossier est créé pour le travail dans le dossier partagé de la ferme de rendu.  Un dossier de destination est également créé dans le nouveau dossier du travail.
  - Choissez le lancr le travail maintenant ou plus tard. Si vous choisissez "plus tard", vous devrez utiliser le moniteur de la ferme de rendu nXt pour démarrer manuellement le travail. 

À la fin du travail, le résultat est placé dans le dossier de destination du du travail.  Pour reconstituer le résultat afin de former une image, suivez ces étapes :

  - Ouvrez l'éditeur d'image nXt.
  - Chargez la première image de la séquence, 000000.nXtImage
  - Dans le menu, sélectionnez Image->Arithmétique->Ajouter pour utiliser le moteur standard --OU-- Image->Arithmétique->Combiner les tracés... pour utiliser le moteur de Path Tracing. 
  - Sélectionnez toutes les autres images de la séquence (ne sélectionnez pas l'image (000000.nXtImage à nouveau, sinon elle sera ajoutée deux fois

===Travaux par lots===

Chaque tâche par lot sera rendue par un seul ordinateur.

Pour envoyer un travail de rendu par lot vers la ferme de rendu :

  - Configurez les tâches comme d'habitude.
  - Cliquez sur le bouton Ferme... dans la boîte de dialogue de rendu par lot.
  - Donnez un nom au travail ou acceptez le nom proposé par défaut.  La date et l'heure sont automatiquement ajoutées au nom que vous avez choisi.  Un sous-dossier est créé pour le travail dans le dossier partagé de la ferme de rendu.  Un dossier de destination est également créé dans le nouveau dossier du travail.
  - Choissez le lancr le travail maintenant ou plus tard.  Si vous choisissez "plus tard", vous devrez utiliser le moniteur de la ferme de rendu nXt pour démarrer manuellement le travail.

À la fin du travail, le résultat est placé dans le dossier de destination du du travail.  Les travaux du lot sont toujours réalisés au format .nXtImage.

===Diaporama 3D===

Chaque transition entre deux diapositives sera rendue par un seul ordinateur.   Par exemple, un diaporama qui possède cinq diapositives aura quatre transitions et produira quatre tâches pour la ferme de rendu. 

Pour envoyer un travail de rendu de diaporama 3D vers la ferme de rendu : 

  - Configurez votre diaporama 3D comme d'habitude. 
  - Cliquez sur le bouton Ferme... dans la boîte de dialogue. 
  - Donnez un nom au travail ou acceptez le nom proposé par défaut.  La date et l'heure sont automatiquement ajoutées au nom que vous avez choisi.  Un sous-dossier est créé pour le travail dans le dossier partagé de la ferme de rendu.  Un dossier de destination est également créé dans le nouveau dossier du travail.
  - Choissez le lancr le travail maintenant ou plus tard.  Si vous choisissez "plus tard", vous devrez utiliser le moniteur de la ferme de rendu nXt pour démarrer manuellement le travail.

À la fin du travail, le résultat est placé dans le dossier de destination du du travail.  Les travaux de diaporamas 3D sont toujours réalisés au format .png.  Votre choix de canal alpha sera conservé.

=== Animation ===

L'animation sera divisée en tâches de 20 trames consécutives. 

Pour envoyer un travail d'animation vers la ferme de rendu :

  - Configurez votre diaporama 3D comme d'habitude.
  - Cliquez sur le bouton Ferme... dans la boîte de dialogue. 
  - Donnez un nom au travail ou acceptez le nom proposé par défaut.  La date et l'heure sont automatiquement ajoutées au nom que vous avez choisi.  Un sous-dossier est créé pour le travail dans le dossier partagé de la ferme de rendu.  Un dossier de destination est également créé dans le nouveau dossier du travail.
  - Choissez le lancr le travail maintenant ou plus tard.  Si vous choisissez "plus tard", vous devrez utiliser le moniteur de la ferme de rendu nXt pour démarrer manuellement le travail.

À la fin du travail, le résultat est placé dans le dossier de destination du du travail.  Les travaux d'animation sont toujours réalisés au format .png.  Votre choix de canal alpha sera conservé.