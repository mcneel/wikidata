======在Rhino 5执行大型组织======
**或：何时利用连结的图块? 何时利用分工作业(worksessions)附加文件？**

==== 概要 ====
本白皮书描述了Rhino 5让一个团队执行大型项目的功能。策略就是将项目分成多个文件，并善用图块与附加文件。

====插入图块与附加参考文件====
Rhino有两种方法可以将多个文件包括在一个单一场景：插入连结的图块以及附加参考模型。 起初他们看起来很类似，但可以解决不同的问题。

====插入图块至物件数据库====
利用插入图块的功能将数据库里的物件加入您的模型。例如您可以绕着会议桌插入10次会议椅子的图块。利用图块降低用来表现物件的存储器的使用，并且很容易可以替换为另一种风格的会议椅。

====在主模型中插入图块====
连结的图块能够用来将大型项目的元素合并到一个主要文件。 在此情况下，任何连结文件中的几何都不用修改。连结的几何是渲染、动画或2D绘图生产的几何资料来源。

当几何以连结图块的方式插入，而图层状态设为作用中，能够在所有作用中的图层属性中作变更。 不管底下连结的几何或是图块，这些图层的更改都会储存在主模型。这允许主模型可以在整个项目的生命周期中被使用。

====以附加文件覆盖几何====
在积极建模项目中某个元素的同时，你也许想要将计划中某部分的几何覆盖。我们可能可以利用连结的图块来覆盖外观上的几何形状，但连结信息是储存在作用中的模型。想象一下如果使用者希望在建筑物的外观上作业，但需要内装墙壁信息供参考。如果内墙是由连结的图块插入的，另一个使用者只需要建筑外部参考时，也会同时得到内部墙壁的信息。 (选项：在独立图层插入连结图块，那么这个图层就是图块参考图层。 如果参考图层处于关闭状态，那么整个图块就不会显示。) 建立永久连结会增加整体项目组职的复杂性。

为了解决这一个问题，Rhino允许您附加一个或多个档。附加文件以唯读覆盖几何的方式被读取至场景。所有附加的文件并不储存于作用中的模型，只有附属图层属性之下的子集更能够被修改：能见度、被锁定、颜色与打印颜色。 原始附加文件永远对应原始的作用模型，附加文件总是会显示完整大小。  
为了保持两个建模分工作业之间的覆盖状态，可以储存一个分工作业(worksession)文件 (.RWS)。 分工作业文件内储存了目前作用模型的路径以及其他附加模型、几何图形所参考的修改图层状态以及当前视图。

分工作业文件并不是设计来分享的，它们的功能是在几何延伸至许多其他文件时，能够纪录个别使用者状态。

=====工作范例=====
====项目====
这个项目的主要目的是在一个越来越多人的大学开发一个停车场。 在这个场地将有两栋建筑物：咖啡厅与行政大楼。 有着喷泉的庭院将会是这里的重点，地下停车场能够加倍目前的停车数量。

====Zeichnenspass建筑团队====
    * Matt是负责处理每个元素3D建模的初级建筑师。
    * Paul负责水管管线配置。
    * David负责起草编制合约。 
    * Fabio是渲染与动画专家，在整个过程中将负责动画以及设计的渲染。

====任务====
每个团队成员都身负不同任务，每个任务也需要不同的工具。

===咖啡厅外观建模===
建模过程由Matt为每栋建筑物建模开始。Matt积极的为建筑物外观建模，他将为建筑物建立新的模型，并附加上任何他在建模时进行覆盖的任何文件。

Matt建立**Coffee Shop - Exterior.3**并附加**Site.3dm**。他不需要看到**Site.3dm**文件的大部分图层，所以把所有图层都关掉只留下底图层。接下来他把底图层转成浅灰色，所以在模型上看起来不会太突出。 因为建立一个模型外观通常需要花几天的时间，Matt将他的附加文件以分工作业的方式存到计算机里。没有必要将这个短暂存在的资料存进网络的项目资料里，只会让共同使用者混淆而已。 

===咖啡厅内部建模===
外部建模之后，Matee开始建立咖啡厅内部的模型。 他将建立一个新的模型并命名为 Interior.3dm。 Matee决定要用不同的分工作业i档来建立这个内部模型，因为他想要使用不同附加文件里不同图层的颜色。 Matt 附加上**Coffee Shop - Exterior.3dm**文件，并保存**Coffee Shop - Interior.rws**档。

咖啡厅有两个厕所。这两间厕所的卫生设备是相同的，但在各自模型中有多个洗手盆与马桶。 为了能够轻松对样式进行更改，Matt加入**Toilet.3dm**以及**Sink.3dm**模型，并加上连结图块。Matt只要利用BlockManager指令就可以改变马桶现有样式。

=== 建立其他建筑物的模型===
工地上其余的结构建模，大概都依循着建立咖啡厅的原则。 只要结构外部一完成，初步渲染就可以开始。

===外部渲染===
只要工地与建筑物外部完成，Fabio可以开始设置渲染及动画厂警。 Fabio想要控制材质内内容、已储存视图以及渲染环境，即使其他人也能够改变这个每个建筑的信息。

Fabil建立一个新的模型文件并命名为**Master Rendering.3dm**，并且将**Site.3dm**、**Coffee Shop - Exterior.3dm**、**Courtyard - Fountain.3dm**、**Courtyard - Path.3dm**、**Administrative - Exterior.3dm**以及**Garage - Entry.3dm**等文件做成连结图块。 这些连结的图块会以**Layer Style**(图层形式)的方式存在，并设定为**Active** (使用中)。

插入图层样式设置开启的图块，允许Fabio可以控制每个图层的材质内容而毋需修改原始模型。这表示团队里的其他人员，能够继续在这些模型上工作，Fabio还是可以继续调整材质并进行最后渲染。

最初Fabio想到附加参考档，并且为此项目储存一个分工作业。后来他决定不这么做，因为他希望所有渲染材质信息都在一个它可控制的文件里 - **Master Rendering.3dm** - ，而不是含在许多几何图形的模型内。这让Fabio可以控制渲染的特性，而且让其他使用者也可以自行渲染他们需要的文件。

**注：** Zeichenespass团队设立了一套制图标准，包括文件与图层的命名都要配合团队使用的图块与分工作业。例如所有外部窗户都放在一个命名为//Fenestration//的图层里。当所有连结图块都汇入Fabio的总渲染模型，这层单一纪录开窗的图层包含了模型里所有有关窗户的几何。 要改变所有的文件中的任何外部玻璃设定变得很容易，因为所有的玻璃都在同一个图层里。

Fabio在总渲染模型中建立命名的视图、设置Bongo路径动画以及太阳研究动画。当整个计划越趋于完成，Fabio可以开启总渲染模型，而且较容易产出更新的渲染与动画效果。

===建立生产图纸===
生产图纸的布局就像利用连结图块的外部渲染。要建立咖啡厅的图纸，David建立一个**Master Drawings - Coffee Shop.3dm**文件，为了每个此绘图需要的模型，启动汇入图层形式的连结图块。

每一页绘图的图纸配置都储存在咖啡厅的绘图设计模型里。这些图纸配置包含额外尺寸、打印宽度的图层形式、直线类型以及打印颜色。

经由汇入连结图块，David可以在别的组员对模型做出更改时，继续绘图工作。

=== 管线详情===

由附加文件来完成管线详细图层，因为修改模型时还需要参考其他文件里的几何信息。 Paul建立了一个新的模型并命名为**Coffee Shop - Plumning.3dm**，并附加**Coffee Shop - Exterior**以及**Coffee Shop - Interior**。 电路及暖通空调的详细情形也会在类似的步骤情况下完成。

==== 最后的补充====
规划与标准对于一个成功的组织项目来说非常重要。将一个庞大的计划案分割成几个文件，让使用者可以同时使用，而不用因为另有使用者锁定文件而工作进度受到影响。但太多的文件表示要经常切换到分工作业，会耗费许多时间也很令人烦躁。

