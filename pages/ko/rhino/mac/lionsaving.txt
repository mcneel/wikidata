====== 이제까지 파일 저장에 대해 배운 건 전부 틀렸습니다====== 

Apple이 OS X에서의 파일 저장 기능을 활성화했습니다.  //사용자가 더 이상 파일을 저장할 수 없습니다//.  이 점을 알고 계셔야 합니다. 그렇지 않으면 Rhino를 비롯해 다른 응용 프로그램에서도 끊임없이 문제가 발생할 수 있습니다.

이 정보는 Mac용 Rhino에만 국한된 것이 아니라, OS X의 자동 저장 및 버전을 구현한 모든 응용 프로그램에 해당됩니다. 여기서 얻은 지식은 자동 저장 및 버전을 사용하는 OS X의 모든 곳에 적용됩니다. 

다음 글은 Mac용 Rhino 릴리스 안내에 적혀 있으나, 아직 읽지 못 하신 분도 계시리라 생각됩니다. 반드시 지금 읽으시고, 다음 URL에 참조된 글도 꼭 읽어보시기 바랍니다.

>
> Rhino와 관련된 자동 저장 및 버전에 대한 추가 정보는 [[ko:rhino:mac:autosaving|여기를 참조]] (http://wiki.mcneel.com/ko/rhino/mac/autosaving/)하세요.
>
>

다음의 글은 참조된 항목에도 적혀 있습니다. 이 글에서는 어떻게 변경되었는지에 대해 요점 위주로 소개합니다.

**자동 저장은 자동저장을 뜻하지 않습니다**

OS X Lion에 앞서 출시된 버전과 Windows 컴퓨터에서는 자동저장이란 "나중에 사용자 또는 해당 프로그램에서 찾을 수 있는, 어느 한 파일의 백업 복사본 1개를 작성"하는 것을 뜻합니다. 오랫동안 자동저장이라는 용어의 의미는 이와 같았습니다. 정기적으로 파일을 저장하는 책임은 사용자에게 있으나, Rhino와 다른 프로그램에서 사용자가 잊었을 경우 백업 파일을 만들게 됩니다. 

OS X에서 Apple은 거의 비슷한 용어인 //자동 저장//를 사용합니다. 이 용어는 완전히 다른 뜻을 의미합니다. OS X에서 자동 저장은 "자동으로 사용자의 파일을 저장"함을 말합니다. 자동으로 사용자의 파일을 덮어씁니다. 다른 어느 곳에도 숨겨놓은 백업 파일은 없습니다. 사용자의 오리지널 파일을 계속 그리고 항상 덮어씁니다.

**얼마나 자주 저장됩니까? **   //항상 저장됩니다.//

다음은 Apple의 설명입니다:
> OS X Lion의 자동 저장은 작업이 일시 정지되었을 때, 작업을 진행 중일 때는 5분 후에 작업을 저장합니다.

다음 테스트 과정을 실행해 보세요:

  * Rhino 모델 중 하나를 데스크탑에 복사하고 Rhino 창에 가리지 않은 위치에 둡니다.  
  * 복사한 Rhino 파일을 선택하고 Finder 메뉴에서 파일 > 정보 가져오기를 선택합니다. 파일 정보 창이 표시됩니다.
  * 파일의 수정된 시간을 확인합니다. 
  * 데스크탑의 Rhino 파일을 다시 선택하고 Command-O를 눌러 Rhino에서 해당 모델을 엽니다.
  * 둘 다 보이도록 Rhino 창과 데스크탑의 파일 아이콘을 조정하고, 데스크탑 파일 아이콘의 미리보기 이미지를 확인합니다.
  * Rhino의 Perspective 뷰에서 개체 몇 개를 선택합니다. 
  * Option-왼쪽 화살표를 누르고, Option-오른쪽 화살표를 누릅니다. 선택된 개체가 미세 이동하고 다시 원래 위치로 되돌아옵니다. 모델이 수정은 되었으나 그 전과 달라진 것은 없습니다.
  * Perspective 뷰를 조금 회전하여 미리보기 이미지가 바뀐 것을 알 수 있게 합니다.
  * 이 단계에서 아무것도 하지 않습니다.

10~20 초 안에 해당 파일의 데스크탑 미리보기 이미지가 모델의 Perspective 뷰와 일치하게 변경됩니다. 데스크탑에서 Rhino 파일을 선택하고, Finder 메뉴에서 파일 > 정보 가져오기를 선택합니다. 파일의 수정 데이터가 변경되었음을 알 수 있습니다. 해당 파일이 디스크에서 업데이트되었습니다. 

Rhino에서 다른 응용 프로그램으로 바꿔도 동일한 일이 발생합니다. OS X 자동 저장은 다른 응용 프로그램으로 바꾼 직후 사용자의 파일을 저장합니다. 위의 테스트에서 10초에서 20초간 아무 작업도 안 하는 대신, Finder 메뉴로 바꿔보세요. 사용자의 파일이 곧바로 업데이트됩니다.

마지막으로, 모델 창을 닫거나, Rhino를 끝내면 사용자의 모델이 저장됩니다. "변경 내역을 저장하시겠습니까?" 메시지가 표시되지 않습니다.
 
각 응용 프로그램마다 모델을 수정하는 동안 자동 저장이 실행되지 않도록 하는 보호 장치가 있습니다. 디스크에 작성된 복사본은 모델이 작성되었을 때의 정확하고 일정한 복사본입니다. 예를 들어, 사용자가 명령을 실행하는 도중이라면 Rhino는 절대로 자동 저장을 실행하지 않습니다. Rhino는 사용자 모델의 스냅샷을 메모리에 만든 후, 디스크에 스냅샷을 작성합니다. 디스크에 작성하는 작업은 배경 스레드로 실행되므로, 느린 네트워크 드라이브에 모델이 저장되어 있더라도 해당 모델이 느린 디스크에 작성되는 동안 자동 저장이 이 작업을 방해하지 않습니다.

**사용자는 더 이상 파일을 저장할 수 없습니다**

아니면, 더 정확하게는 언제 모델이 디스크에 저장되는지를 사용자가 결정할 수 없습니다. 시스템에서 대신 해 드리고, 언제나 그러합니다. 이미 저장되어 있으므로, 사용자가 저장할 수 없습니다.

Apple의 목표는 two-fold.  첫째, 화면에 보이는 것이 디스크에 저장된 그대로입니다. 더 이상, 디스크에 마지막 저장된 버전과 Rhino 응용 프로그램에서 현재 수정된 버전과 같은 두 개의 버전은 없습니다. 이제 두 개는 동일합니다. 둘째, 프로그램이나 운영체제에서 크래시가 발생하더라도 하던 작업을 잃는 일은 없게 될 것입니다.

**Command-S 는 파일 저장이 아닙니다**

모델을 저장할 때마다 항상 Command-S 를 눌렀다면, 이제 이건 //나쁜 습관//이 되어 버렸습니다. Command-S로는 파일이 저장되지 않습니다. 전혀 다른, 아마도 사용자가 원하지 않는 작업이 실행됩니다.

모델 중 하나를 열고 Rhino의 파일 메뉴를 봅니다. 저장 메뉴는 없습니다. Command-S는 새로운 **버전 저장**으로 연결되어 있습니다. 버전을 저장하면 해당 파일의 Time Machine 백업이 만들어집니다. 미래에 언제나 사용자가 찾을 수 있는 모델의 백업 복사본입니다. 또한 별도로 버전 저장을 실행하지 않더라도 시스템이 자동으로 버전을 만들어줍니다. 대략 한 시간에 하나를 만듭니다. 이 파일들도 나중에 사용자가 찾을 수 있는 백업 복사본입니다.  

사용자가 저장하는 각각의 버전은 시스템에서 유지합니다. 새 버전을 만들면 이전 버전을 덮어쓰지 않고, 버전 모음에 하나가 추가됩니다.

Command-S를 누를 때마다 파일의 새 버전이 추가됩니다. Command-S를 많이 누르면 해당 파일의 버전이 //무척 많아지게 됩니다//. 아마도 나중에 그렇게 많은 각각의 버전이 필요하지 않을 것입니다. 모델을 저장하기 위해 항상 Command-S 누르던 습관을 중지하세요. 시스템에서 저장해 드립니다.

시스템에는 저장된 버전을 살펴볼 수 있는 Time Machine 같은 인터페이스가 있습니다.  **파일** > **다음으로 복귀** 메뉴를 선택합니다.  **모든 버전 탐색**으로 가면 이제까지 저장된 모든 버전을 보여주는 브라우저가 표시됩니다. 이 항목의 처음에 참조된 글에 자세히 설명되어 있습니다. 여기서 중요한 점은 Command-S로 파일이 디스크에 저장되지 않는다는 것입니다. 그 대신, 해당 파일의 백업을 만들고 복제하고 탐색 가능한 버전으로 만드는, 훨씬 많은 작업을 실행합니다.

**새 모델**

새 모델을 작업하는 중이고, 한 번도 저장한 적이 없다면 Command-S를 눌렀을 때 일반적인 파일 저장 대화상자 (예전처럼)가 열리고, 모델을 저장하려는 위치를 사용자가 지정합니다. 처음 저장된 후에는 시스템에서 모델을 저장하는 시점을 결정합니다.

**IncrementalSave이 없어졌습니다**

Rhino의 증분 저장(IncrementalSave)의 사용에 익숙하시다면, 더 향상된 사용자 인터페이스로 기본 탑재되어 있는 버전을 사용하세요. 실제로, 증분 저장은 모델의 파일 이름을 계속 변경하기 때문에 OS X Lion의 버전 기능에서 장애 요소가 됩니다. 따라서 OS X에서는 더 이상 증분 저장(IncrementalSave) 명령을 사용하실 수 없습니다.

**OS X Mountain Lion (10.8) 변경 사항**

Apple이 OS X Mountain Lion (10.8)에서 자동 저장 관련 몇 가지를 변경하였습니다.

10.8에서 Apple은 파일 > 버전 저장 메뉴 제목을 파일 > 저장으로 변경하였습니다. 하지만, 동작은 위에 설명한 내용과 동일합니다. OS X 10.8 의 파일 > 저장은 디스크에 모델을 작성하는 것에 따라 해당 모델의 버전을 보관합니다.

OS X Lion부터 표준 OS X 응용 프로그램에는 파일 > 복제 메뉴가 있습니다. 이 메뉴는 현재 문서 컨텐츠의 또다른 복사본 문서를 엽니다. 모델의 복사본을 저장하려면 먼저 복제하고, 복제한 모델을 새 이름으로 저장합니다. 10.8 부터 **Option** 키를 잠시 누르면 **파일** > **복제** 메뉴가 **파일** > **별도 저장...**으로 바뀌고 한 번의 단계만으로 현재 모델의 복사본을 즉시 디스크에 새 이름으로 저장할 수 있습니다. 

사용자가 모델을 변경할 때마다 자동 저장이 디스크에 계속해서 저장합니다. 모델을 시험삼아 수정하고, 변경 내역을 저장하지 않고 끝내는 작업은, 10.7에서 자동 저장으로 인해 어려운 일이 되었습니다. 모델을 그냥 닫으면 모든 변경 내역을 자동 저장이 디스크에 자동저장합니다. 사용자가 직접 실행 취소하여, 모델이 변경되기 전의 상태로 되돌려야 합니다.

10.8에서는 **시스템 환경설정** > **일반**에서 동작을 변경할 수 있습니다. "도큐멘트를 닫을 때 변경사항을 유지하도록 요청" 확인란이 있습니다. 이 확인란을 선택하실 것을 제안합니다. 모델을 변경할 때 모델을 닫기 전에 별도로 저장하지 않으면, 변경사항을 저장할 것인지 묻는 메시지가 표시됩니다. "저장 안 함" 단추를 클릭하면 마지막 저장한 이후의 변경 내역이 무시됩니다. 이 설정은 시스템 전체에 적용되므로 Rhino를 비롯해 다른 모든 응용 프로그램에도 동일하게 실행됩니다.

**앞으로의 방향**

모델에서 작업하면서 이제까지 작업한 내용의 스냅샷을 찍기 위해 버전 저장을 사용해야 하는 자연스러운 시점이 있을 것입니다. 시스템에서도 한 시간에 한 번씩 정기적으로 스냅샷을 찍는다는 점을 기억하세요. 이전 단계의 작업으로 되돌아가야 한다면 여러 개의 복원 지점이 있을 것입니다.   

Apple은 근본적으로 문서 작업 방식을 바꿨습니다. 화면에 보이는 것과 디스크에 저장된 것에는 더 이상 차이가 없습니다. 두 가지는 항상 동기화된 상태로 유지됩니다. 이러한 새로운 방식에 맞춰 우리 자신도 새로운 습관에 익숙해져야 합니다. 일부 응용 프로그램은 자동 저장과 버전으로 변환되지만, 다른 응용 프로그램들은 여전히 기존의 파일 > 저장 방식을 사용하므로 혼동이 있을 수 있습니다. 모든 프로그램이 자동 저장 및 버전 방식으로 바꾸기 전까지 각각의 프로그램의 저장 방식을 기억해야 할 필요가 있습니다.